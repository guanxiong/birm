<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no" />
    <title>生日快乐</title>
    <style>
        html
        {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
        
        body
        {
            margin: 0;
            padding: 0;
            height: 100%;
            font-size: 14px;
            line-height: 1.3em;
        }
        
        #stage
        {
            position: absolute;
            top: 0px;
            left: 0px;
            width: 100%;
            height: 100%;
            overflow: hidden;
            text-shadow: 1px 0px 1px #000,-1px 0px 1px #000,0px 1px 1px #000,0px -1px 1px #000;
        }
        
        #contentPanel
        {
            position: absolute;
            top: 0%;
            left: 0%;
            width: 100%;
            height: 100%;
            color: #ffffff;
            font-weight: bold;
            z-index: 99;
        }
        
        #cardTo
        {
            position: absolute;
            top: 22%;
            left: 12%;
            opacity: 0;
        }
        #cardBody
        {
            position: absolute;
            top: 40%;
            left: 10%;
            width: 76%;
            visibility: hidden;
            overflow: hidden;
            height: auto;
            text-indent: 2em;
        }
        
        #cardFrom
        {
            position: absolute;
            top: 60%;
            left: 10%;
            opacity: 0;
        }
        
        #stage.bg
        {
            background-image: url("{$_W['attachurl']}{$data['cardbg']}");
            background-repeat: no-repeat;
            background-size: 100% 100%;
            z-index: 0;
        }
        .common
        {
            background: none;
            position: absolute;
            z-index: 1;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -o-user-select: none;
        }
        #split_Lines
        {
            position: absolute;
            width: 100%;
            height: 100%;
            left: 0%;
            top: 0%;
        }
        .imageStyle
        {
            opacity: 1;
            width: 6%;
            height: 6%;
        }            
    </style><script type="text/javascript">var APP_PUBLIC = "./source/modules/sheka/";</script>
    <script src="http://libs.baidu.com/jquery/2.0.3/jquery.min.js"></script>
    <script src="./source/modules/sheka/js/jquery.transit.js"></script>
    <script src="./source/modules/sheka/js/txtanimatelibrary.js"></script>

          <script>
              function r(a, b) {
                  return a > b ? 0 : Math.round(Math.random() * (b - a) + a);
              }

              function startMove() {
                  $('.common').not(':animated').each(function () {
                      $(this).animate({
                          'top': r(-5, 30) + "%",
                          'left': r(50, 90) + "%",
                          '-webkit-transform': 'scale(' + r(3, 10) / 12 + ')',
                          'transform': 'scale(' + r(3, 10) / 12 + ')',
                          '-moz-transform': 'scale(' + r(3, 10) / 12 + ')'
                      }, r(3000, 8000));
                  });
              }

              function keepAni() {
                  var n = $(':animated').length;
                  var max_n = $('.common').length;
                  if (n <= max_n) startMove();
              }

              $(document).ready(function () {
                  for (var i = 0; i < 8; i++) {
                      var t_div = document.createElement("div");
                      $(t_div).addClass('common').css({
                          'top': r(1, 30) + "%",
                          'left': r(50, 90) + "%",
                          '-webkit-transform': 'scale(' + r(3, 10) / 12 + ')',
                          'transform': 'scale(' + r(3, 10) / 12 + ')',
                          '-moz-transform': 'scale(' + r(3, 10) / 12 + ')'
                      }).html("\<img src=\"images/star.png\"\>");
                      $('#stage').append(t_div);
                  }
                  setInterval("keepAni()", '50');
              })
    </script>
    <script>
        $(function () {
            cardWaitReady();
            cardReplaceText();
            createbjMusic("{$_W['attachurl']}{$data['music']}");
            if (!$.support.transition) {
                $.fn.transition = $.fn.animate;
            }
            var txtCard = new CardAutoAnimation("#cardTo", "#cardBody", "#cardFrom", "#split_Lines");
            txtCard.anmitionLines({ type: "leftInShow", time: 1000, delay: 2000 }, { type: "floatBottomIn", time: 1000, delay: 2000 }, { type: "rightInShow", time: 1000, delay: 2000 }, function () {
                cardEndingSkip();
            })
        });
    </script>
</head>
<body>
    <div id="stage" class="bg">        
        <div id="leafContainer">
        </div>
        <div id="contentPanel">
            <div id="cardTo">亲爱的妈妈：</div>
            <div id="cardBody">  儿的生日母受难，儿的成长母艰辛。今天是我的生日，我却要把最真挚的祝福送给您。您为了我付出太多心血，多年的辛劳将您的身体压垮。我心中的感激难以言语，我要在这特殊的日子，许下诚挚的愿望：愿妈妈身体健康！</div>
            <div id="cardFrom">宏儿</div>
            <div id="split_Lines">
            </div>
        </div>
    </div>
</body>
</html>
