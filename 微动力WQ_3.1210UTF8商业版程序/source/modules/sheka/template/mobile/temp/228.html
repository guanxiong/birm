<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no" />
    <title>周末问候</title>
    <style>
        html
        {
            height: 100%;
            margin: 0;
            padding: 0;
        }

        body
        {
            margin: 0;
            padding: 0;
            height: 100%;
            font-size: 18px;
            line-height: 1.3em;
        }

        #stage
        {
            position: absolute;
            top: 0px;
            left: 0px;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        #cardTo
        {
            visibility: hidden;
        }

        #cardBody
        {
            margin: 10px 0px;
            visibility: hidden;
            overflow: hidden;
            height: auto;
            overflow-y:scroll;
        }

        #cardFrom
        {
            float: right;
            margin-right: 10px;
            visibility: hidden;
        }

        #stage.bg
        {
            background-image: url("{$_W['attachurl']}{$data['cardbg']}");
            background-repeat: no-repeat;
            background-size: 100% 100%;
        }

        #contentPanel
        {
            position: absolute;
            top: 30%;
            left: 10%;
            width: 80%;
            height: 40%;
            color: #000;
            font-weight:bold;
        }

        #cloud
        {
            position: absolute;
            top: 5%;
            left: -60%;
            background-image: url("images/cloud.png");
            background-repeat: no-repeat;
            background-size: 50% 35%;
            animation:floatCloud 25s linear infinite;
            -webkit-animation:floatCloud 25s linear infinite;
            -moz-animation:floatCloud 25s linear infinite;
        }

        #cloud1
        {
            position: absolute;
            top: 5%;
            left: -60%;
            background-image: url("images/cloud.png");
            background-repeat: no-repeat;
            background-size: 40% 25%;
            animation:floatCloud 40s linear infinite;
            -webkit-animation:floatCloud 40s linear infinite;
            -moz-animation:floatCloud 40s linear infinite;
        }

        @keyframes floatCloud
        {
            0%
            {
               left: -60%;
            }
            100%
            {
                left: 100%;
            }
        }
        @-webkit-keyframes floatCloud
        {
            0%
            {
                left: -60%;
            }
            100%
            {
                left: 100%;
            }
        }
        @-moz-keyframes floatCloud
        {
            0%
            {
                left: -60%;
            }
            100%
            {
                left: 100%;
            }
        }
    </style><script type="text/javascript">var APP_PUBLIC = "./source/modules/sheka/";</script>
    <script src="http://libs.baidu.com/jquery/2.0.3/jquery.min.js"></script>
    <script src="./source/modules/sheka/js/common.js"></script>
    <script>
        $(function () {
            waitReady();

            var cardtoHeight = $("#cardTo").height();
            var cardFromHeight = $("#cardFrom").height();
            var panelHeight = $("#contentPanel").height();
            var cardBody = $("#cardBody");
            var lineheight = parseInt(cardBody.css("line-height"));

            var bodyHeight = panelHeight - cardtoHeight - cardFromHeight; 
            cardBody.css({ "max-height": parseInt(bodyHeight / lineheight) * lineheight + "px" });

            var speed = 200;
            var time = cardBody.html().length * speed;
			var timeto=$("#cardTo").html().length*speed;
            $("body").delay(1000).show(function () {
                $("#cardTo").typewriter(speed);
            }).delay(timeto+2000).show(function () {
                $("#cardBody").typewriter(speed);
            }).delay(time+1500).show(function () {
                $("#cardFrom").typewriter(speed);
                $("#cardFrom").ShowSkip();
            });
        });
    </script>

</head>
<body>
    <script>
        CreateAudio("{$_W['attachurl']}{$data['music']}"); //播放音频
    </script>
    <div id="stage" class="bg">
        <img id="cloud" src="images/cloud.png" tppabs="http://www.cqdy.co/template/AA29/images/cloud.png">
        <img id="cloud1" src="images/cloud1.png" tppabs="http://www.cqdy.co/template/AA29/images/cloud1.png">
        <div id="contentPanel">
            <div id="cardTo">老王：</div>
            <div id="cardBody"> 花儿累了所以它放弃了美丽选择了果实，天空累了所以它放弃太阳选择了月亮，忙碌一周的您感觉累吗?周末了，好好休息、放松心情，保重身体！</div>
            <div id="cardFrom">浦泽</div>
            <script type="text/javascript">
                ReplaceText();
            </script>
         </div>
    </div>
</body>
</html>
