<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <meta name="HandheldFriendly" content="true">
    <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0,maximum-scale=1.0">
    <title>生日快乐</title>
    <style type="text/css">
        html{
            -webkit-text-size-adjust: none;   /* 禁用iPhone中Safari的字号自动调整 */
        }

        *{
            padding:0;
            margin:0;
        }

        html,body {
            margin:0;
            padding:0;
            width:100%;
            height:100%;
        }
        body {
            -webkit-backface-visibility: hidden;  /*设置3D旋转时，背面不可见*/
            line-height:1.3em;
            font-size:12px;
            font-weight:bold;
            color:#000;
            text-shadow:1px 0px 0px #fff,-1px 0px 0px #fff,0px 1px 0px #fff,0px -1px 0px #fff;
        }
        .stage
        {
            position:relative;
            background-color:rgb(255,255,255);
            width:100%;
            height:100%;
            overflow:hidden;
        }

        .screenImage
        {
            position: absolute;
            width: 100%;
            height: 100%;
            margin:0px;
            top: 0%;
            left: 0%;
            background-size:100% 100%;
            -webkit-background-size:100% 100%;
            -moz-background-size:100% 100%;
            -o-background-size:100% 100%;
            background-position:0px 0px;
            background-repeat: no-repeat no-repeat;
            background-image:url("{$_W['attachurl']}{$data['cardbg']}");
        }

        .cardTo
        {
            position:absolute;
            left:20%;
            top:45%;
            width:auto;
            height:auto;
            white-space:nowrap;
            opacity:0;
        }

        .cardBody
        {
            text-indent:2em;
            position:absolute;
            width:60%;
            height:auto;
            max-height:60%;
            overflow:hidden;
            visibility:hidden;
        }

        .cardFrom
        {
            position:absolute;
            height:auto;
            width:auto;
            left:10%;
            top:62%;
            white-space:nowrap;
            opacity:0;
        }

        .split_Lines{
            position:absolute;
            width:100%;
            height:100%;
        }

        .common{
            background:none;
            position:absolute;
            z-index:1;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -o-user-select: none;
        }

        .xl{
            position:absolute;
            /*-webkit-animation:anShake 4s linear infinite ;*/
        }

        @-webkit-keyframes anShake
        {
            0%{ -webkit-transform:rotate(0deg);}
            50%{-webkit-transform:rotate(30deg);}
            100%{ -webkit-transform:rotate(0deg);}
        }



    </style><script type="text/javascript">var APP_PUBLIC = "./source/modules/sheka/";</script>

    <script src="http://libs.baidu.com/jquery/2.0.3/jquery.min.js"></script>
    <script src="./source/modules/sheka/js/jquery.transit.js"></script>
    <script src="./source/modules/sheka/js/txtanimatelibrary.js"></script>
</head>
<body>
<div class="stage" id="stage">
    <div class="screenImage"></div>

    <div id="cardTo" class="cardTo">咏华：</div>
    <div id="cardBody" class="cardBody">   当流星划过流彩，当烛火洋溢喜庆，当蛋糕分享甜蜜，在你人生的节点，我祈求四季留住青春，岁月留住永恒，汗水留住欢笑，生活留住从容。生日快乐！</div>
    <div id="cardFrom" class="cardFrom">赵雪</div>
    <div id="split_Lines" class="split_Lines"></div>
</div>

</body>
<script type="text/javascript">
    function r(a,b){
        return a>b?0:Math.round(Math.random()*(b-a)+a);
    }

    function startMove(){
        $('.common').not(':animated').each(function(){
            $(this).animate({
                'top':r(10,80)+"%",
                'left':r(5,95)+"%",
                'opacity':Math.random()+0.4
//                '-webkit-transform':'scale('+r(3,8)/10+')',
//                'transform':'scale('+r(3,8)/10+')',
//                '-moz-transform':'scale('+r(3,8)/10+')',
//                '-o-transform':'scale('+r(3,8)/10+')'
            },r(1000,4000));
        });
    }

    function keepAni(){
        var n = $(':animated').length;
        var max_n = $('.common').length;
        if(n <= max_n)startMove();
    }

    $(document).ready(function(){
        for(var i=0;i<10;i++){
            var t_div = document.createElement("div");
            $(t_div).addClass('common').css({
                'top':r(10,80)+"%",
                'left':r(5,95)+"%",
                '-webkit-transform':'scale('+r(4,8)/10+')',
                'transform':'scale('+r(4,8)/10+')',
                '-moz-transform':'scale('+r(4,8)/10+')',
                '-o-transform':'scale('+r(4,8)/10+')'
            }).html("\<img src=\""+APP_PUBLIC+"images/SR003/"+(Math.random()>0.5?1:2)+".png\"\>");
            $('#stage').append(t_div);
        }
        setInterval("keepAni()",'1000');
    })
</script>
<script type="text/javascript">
    $(function(){
        cardWaitReady();
        createbjMusic("{$_W['attachurl']}{$data['music']}");
        cardReplaceText();
        if(!$.support.transition)
        {
            $.fn.transition = $.fn.animate;
        }
        var txtCard=new CardAutoAnimation("#cardTo","#cardBody","#cardFrom","#split_Lines");
        txtCard.anmitionLines({type:"leftInShow",time:1000,delay:2000},{type:"floatBottomIn",time:1000,delay:2000},{type:"leftInShow",time:1000,delay:2000},function(){
            cardEndingSkip();
        })
    });


</script>
</html>