<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<meta name="HandheldFriendly" content="true">
<meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0,maximum-scale=1.0">
<title>来自星星的你</title>
<style type="text/css">
    html{
        -webkit-text-size-adjust: none;   /* 禁用iPhone中Safari的字号自动调整 */
    }

    *{
        padding:0;
        margin:0;
    }

    html,body {
        margin:0;
        padding:0;
        width:100%;
        height:100%;
    }
    body {
        -webkit-backface-visibility: hidden;  /*设置3D旋转时，背面不可见*/
        line-height:1.3em;
        font-size:14px;
        font-weight:bold;
        color:#000;
        text-shadow:1px 0px 0px #ffffff,-1px 0px 0px #ffffff,0px 1px 0px #ffffff,0px -1px 0px #ffffff;
    }
    .stage
    {
        position:relative;
        background-color:rgb(255,255,255);
        width:100%;
        height:100%;
        overflow:hidden;
    }
    .screenImage
    {
        position: absolute;
        width: 100%;
        height: 100%;
        margin:0px;
        top: 0%;
        left: 0%;
        background-size:100% 100%;
        -webkit-background-size:100% 100%;
        -moz-background-size:100% 100%;
        -o-background-size:100% 100%;
        background-position:0px 0px;
        background-repeat: no-repeat no-repeat;
        background-image:url("{$_W['attachurl']}{$data['cardbg']}");
    }
    .cardTo
    {
        position:absolute;
        left:7%;
        top:19%;
        width:auto;
        height:auto;
        white-space:nowrap;
        opacity:0;
    }
    .cardBody
    {
        text-indent:2em;
        position:absolute;
        width:86%;
        height:auto;
        max-height:45%;
        overflow:hidden;
        visibility:hidden;
    }
    .cardFrom
    {
        position:absolute;
        height:auto;
        width:auto;
        left:10%;
        top:44%;
        white-space:nowrap;
        opacity:0;
    }
    .split_Lines,#rainContainer,#words{
        position:absolute;
        width:100%;
        height:100%;
    }


    @-webkit-keyframes fade
    {
        0%{opacity: 1;}
        95% { opacity: 1;}
        100% { opacity: 0;}
    }

    @-moz-keyframes fade
    {
        0%{opacity: 1; }
        95%{ opacity: 1; }
        100% {opacity: 0;}
    }

    @keyframes fade
    {
        0%{opacity: 1; }
        95%{opacity: 1;}
        100% { opacity: 0; }
    }


    @-webkit-keyframes drop
    {
        0%{-webkit-transform: translate(0%, -5%); }
        100% { -webkit-transform: translate(0%, 110%);}
    }

    @keyframes drop
    {
        0% { transform: translate(0%, -5%);}
        100% {transform: translate(0%, 110%); }
    }

    @-moz-keyframes drop
    {
        0%{ -moz-transform: translate(0%, -5%);}
        100%{-moz-transform: translate(0%, 110%); }
    }

    @-webkit-keyframes clockwiseSpin
    {
        0%{-webkit-transform: rotate(-50deg); }
        100%{-webkit-transform: rotate(50deg);}
    }

    @keyframes clockwiseSpin
    {
        0%{ transform: rotate(-50deg);}
        100%{ transform: rotate(50deg); }
    }

    @-moz-keyframes clockwiseSpin
    {
        0%{-moz-transform: rotate(-50deg);}
        100%{  -moz-transform: rotate(50deg);}
    }

    @-webkit-keyframes counterclockwiseSpinAndFlip
    {
        0%{ -webkit-transform: scale(-1, 1) rotate(50deg);}
        100%{-webkit-transform: scale(-1, 1) rotate(-50deg);}
    }

    @keyframes counterclockwiseSpinAndFlip
    {
        0%{transform: scale(-1, 1) rotate(50deg);}
        100%{transform: scale(-1, 1) rotate(-50deg); }
    }
    @-moz-keyframes counterclockwiseSpinAndFlip
    {
        0% {-moz-transform: scale(-1, 1) rotate(50deg);}
        100%{-moz-transform: scale(-1, 1) rotate(-50deg); }
    }

    /*#animation{*/
        /*-webkit-animation:bounce 1s .2s ease both;*/
        /*-moz-animation:bounce 1s .2s ease both;}*/
    /*@-webkit-keyframes bounce{*/
        /*0%,20%,50%,80%,100%{-webkit-transform:translateY(0)}*/
        /*40%{-webkit-transform:translateY(-30px)}*/
        /*60%{-webkit-transform:translateY(-15px)}*/
    /*}*/
    /*@-moz-keyframes bounce{*/
        /*0%,20%,50%,80%,100%{-moz-transform:translateY(0)}*/
        /*40%{-moz-transform:translateY(-30px)}*/
        /*60%{-moz-transform:translateY(-15px)}*/
    /*}*/
</style><script type="text/javascript">var APP_PUBLIC = "./source/modules/sheka/";</script>
<script src="http://libs.baidu.com/jquery/2.0.3/jquery.min.js"></script>
<script src="./source/modules/sheka/js/jquery.transit.js"></script>
<script src="./source/modules/sheka/js/txtanimatelibrary.js"></script>
<script type="text/javascript">
    $(function(){
        cardWaitReady();
        createbjMusic("{$_W['attachurl']}{$data['music']}");
        cardReplaceText();
        createflowers();
        if(!$.support.transition)
        {
            $.fn.transition = $.fn.animate;
        }
        var txtCard=new CardAutoAnimation("#cardTo","#cardBody","#cardFrom","#split_Lines");
        txtCard.anmitionLines({type:"leftInShow",time:1000,delay:1500},{type:"floatBottomIn",time:1000,delay:1000},{type:"leftInShow",time:1000,delay:2000},function(){
            cardEndingSkip();
        })
    });

    function randomFloat(low, high)
    {
        return low + Math.random() * (high - low);
    }

    function randomInt(low,high)
    {
        return Math.round(Math.random()*(high-low)+low);
    }
    function createflowers()
    {
        for(var i=0;i<12;i++)
        {
            createflower();
        }
    };

    function createflower() {

        var imgDiv=$("<div style=\"position:absolute;width:100%;height:100%;\"></div>");
        var leafDur=randomFloat(5,10) + "s";
        var leafDelay = randomFloat(0, 5) + "s";
        imgDiv.css({
            "-webkit-animation-iteration-count": "infinite,infinite",
            "-webkit-animation-direction":"normal,normal",
            "-webkit-animation-timing-function": "linear,ease-in",
            "-webkit-animation-name": "fade, drop",
            "-webkit-animation-duration":leafDur+","+leafDur,
            "-webkit-animation-delay":leafDelay+","+leafDelay,

            "-moz-animation-iteration-count": "infinite,infinite",
            "-moz-animation-direction": "normal,normal",
            "-moz-animation-timing-function":"linear,ease-in",
            "-moz-animation-name": "fade, drop",
            "-moz-animation-duration":leafDur+","+leafDur,
            "-moz-animation-delay":leafDelay+","+leafDelay,

            "animation-iteration-count": "infinite,infinite",
            "animation-direction":"normal,normal",
            "animation-timing-function":"linear,ease-in",
            "animation-name": "fade, drop",
            "animation-duration":leafDur+","+leafDur,
            "animation-delay":leafDelay+","+leafDelay
        });
        var spinAnimationName = (Math.random() < 0.5) ? 'clockwiseSpin' : 'counterclockwiseSpinAndFlip';

        var img =$("<img src=\""+APP_PUBLIC+"images/XX002/9.png\">");
        img.css({
            "position":"absolute",
            "top":"-5%",
            "left": randomInt(10, 90) + "%",
            "-webkit-animation-iteration-count": "infinite",
            "-webkit-animation-direction": "alternate",
            "-webkit-animation-timing-function":"ease-in-out",
            "-webkit-transform-origin":"50% -100%",
            "-webkit-animation-name":spinAnimationName,
            "-webkit-animation-duration":randomFloat(4,8)+"s",

            "-moz-animation-iteration-count":"infinite",
            "-moz-animation-direction":"alternate",
            "-moz-animation-timing-function":"ease-in-out",
            "-moz-transform-origin":"50% -100%",
            "-moz-animation-name":spinAnimationName,
            "-moz-animation-duration":randomFloat(4,8)+"s",

            "animation-iteration-count":"infinite",
            "animation-direction": "alternate",
            "animation-timing-function": "ease-in-out",
            "transform-origin":"50% -100%",
            "animation-name":spinAnimationName,
            "animation-duration":randomFloat(4,8)+"s"
        });
        img.appendTo(imgDiv);
        imgDiv.appendTo($("#rainContainer"));
    }
</script>
</head>
<body>
<div class="stage" id="stage">
    <div class="screenImage"></div>
    <div id="rainContainer">
    </div>
    <div id="cardTo" class="cardTo">亲爱的＿＿：</div>
    <div id="cardBody" class="cardBody">雪下完了，留下炸鸡和啤酒。雪人化了，留下和你一起堆雪人的我，只想轻轻告诉你：春天来了，都敏俊和二千在外星球愉快的玩耍，给我留下唯一的超能力就是奋不顾身的保护你，只要你开心，一年四季都是初雪的心情。</div>
    <div id="cardFrom" class="cardFrom">你的＿＿</div>
    <div id="split_Lines" class="split_Lines"></div>
</div>
</body>
</html>